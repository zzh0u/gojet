# GoJet 项目开发计划

## 功能开发

### 1. 用户认证系统

- [ ] 用户注册功能
- [ ] 用户登录功能（JWT）
- [ ] Token 刷新机制
- [ ] 密码加密与验证
- [ ] 用户权限管理

### 2. 业务功能

- [ ] 用户 CRUD 操作完善
- [ ] 文件上传下载
- [ ] 数据导出功能（Excel/PDF）
- [ ] 数据分页查询优化

### 3. API 文档

- [ ] Swagger 文档集成
- [ ] API 版本管理
- [ ] 接口权限说明

## 架构设计

### 1. 接口抽象层

**问题**：当前 service 层和 api 层都定义了 interface，需要验证其合理性

**分析**：

- API 层 interface（`api/interfaces.go`）：定义了 API 层对服务层的需求
- Service 层 interface（`service/interfaces.go`）：定义了服务层对数据层的需求

**待验证**：

- [ ] 是否两层都需要 interface 抽象？
- [ ] 是否增加了不必要的复杂度？
- [ ] 测试便利性是否得到提升？

### 2. Service.go 实现

**问题**：当前的`service.go`实现方式是否合理？

**现状**：

- 在 main 包中实现了 Service 结构体
- 负责所有组件的初始化和依赖注入
- 包含了健康检查接口的实现

**待评估**：

- [ ] 是否应该将 Service 结构体移到独立的包中？
- [ ] 依赖注入方式是否过于复杂？
- [ ] 是否应该使用更轻量级的初始化方式？

### 3. 代码结构优化

- [ ] 错误处理统一化
- [ ] 日志记录完善
- [ ] 配置管理优化
- [ ] 数据库连接池配置

## 测试

### 1. 单元测试

- [ ] Service 层单元测试
- [ ] DAO 层单元测试
- [ ] API 层单元测试
- [ ] 使用 mock 对象进行测试

### 2. 集成测试

- [ ] API 接口测试
- [ ] 数据库操作测试
- [ ] 业务流程测试

## 部署与运维

### 1. 容器化

- [ ] Docker 优化
- [ ] 多环境配置（dev/test/prod）
- [ ] 健康检查完善

### 2. 监控与日志

- [ ] APM 集成
- [ ] 性能监控
- [ ] 错误日志收集
- [ ] Redis 缓存集成

## 安全

### 1. API 安全

- [ ] SQL 注入防护
- [ ] XSS 攻击防护
- [ ] CSRF 防护
- [ ] 请求频率限制

### 2. 数据安全

- [ ] 敏感数据加密
- [ ] 数据传输安全
- [ ] 文件上传安全
- [ ] CORS 配置

## 优先级说明

### 高优先级（立即执行）

1. 用户登录功能（JWT）
2. 验证 interface 抽象的必要性
3. 评估 service.go 实现合理性

### 中优先级（近期执行）

1. 完善用户 CRUD 功能
2. 添加单元测试
3. 代码结构优化

### 低优先级（后续执行）

1. 数据导出功能
2. 文件上传下载
3. 监控与日志系统
